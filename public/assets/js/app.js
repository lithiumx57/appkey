let w=document.getElementsByClassName("menu-1"),g=document.getElementById("menu-cover"),f=!0,q=1200,b=()=>{let s=(window.innerWidth-q)/2-0;return s<0&&(s=0),s};for(let e=0;e<w.length;e++){let s=w[e];s.addEventListener("mouseover",t=>{let a=t.target.getAttribute("data-target");if(!a||!document.getElementById("submenu_"+a))return;let n=b();const o=s.getBoundingClientRect();let r=parseInt(Math.abs(o.right-o.left)+"");f&&(g.style.width="0px"),f=!1,setTimeout(function(){f||(g.style.width=r+"px",g.style.left=parseInt(o.left-n+"")+"px")},100)}),s.addEventListener("mouseleave",t=>{f=!0,setTimeout(function(){if(!f)return;let a=t.target.getAttribute("data-target");if(!a||!document.getElementById("submenu_"+a))return;let n=b();const o=s.getBoundingClientRect();let r=parseInt(Math.abs(o.right-o.left)+16+"");g.style.left=parseInt(o.left-n+r/2-22+"")+"px",g.style.width="0"},120)})}document.querySelector(".search-backdrop").addEventListener("click",()=>{let e=document.getElementById("search-popup");e&&(e.classList.remove("active"),document.querySelector(".search-backdrop").classList.remove("active"))});document.querySelector("#temp-search").addEventListener("click",()=>{let e=document.getElementById("search-popup");e&&(e.classList.add("active"),document.querySelector(".search-backdrop").classList.add("active"),document.getElementById("main-search-keyword").focus())});let y=document.getElementById("main-search-keyword");y&&y.addEventListener("keyup",e=>{e.key==="Enter"&&(window.location.href="/search?q="+y.value)});let L=document.getElementsByClassName("main-categories");for(let e=0;e<L.length;e++)L[e].addEventListener("mouseenter",s=>{let t="submenu_"+s.target.getAttribute("data-target"),a=document.getElementById(t);a.classList.add("show"),setTimeout(function(){a.classList.add("active")},20)}),L[e].addEventListener("mouseleave",s=>{let t="submenu_"+s.target.getAttribute("data-target"),a=document.getElementById(t);a.classList.remove("active"),setTimeout(function(){a.classList.remove("show")},300)});let h={};document.addEventListener("click",e=>{for(let s in h){let t=s.replace(".",""),a=s.replace("#","");if(e.target.classList.contains(t)){let i=h[s];i(e)}if(e.target.getAttribute("id")===a){let i=h[s];i(e)}}});let u=(e,s)=>{h[e]||(h[e]=s)},v=document.getElementsByClassName("main-navigation")[0],E=document.getElementsByClassName("nav-toggle")[0],M=document.getElementsByClassName("close-nav")[0],m=document.getElementById("x-backdrop");M.addEventListener("click",()=>{p()});m&&m.addEventListener("click",()=>{p()});window.addEventListener("resize",()=>{window.innerWidth>1024&&p()});function p(){E.classList.remove("active"),m.classList.remove("active"),v.classList.remove("active"),setTimeout(function(){v.classList.remove("show"),m.classList.remove("show")},300)}function W(){E.classList.add("active"),v.classList.add("show"),m.classList.add("show"),setTimeout(function(){v.classList.add("active"),m.classList.add("active")},50)}document.querySelector(".nav-toggle").addEventListener("click",()=>{E.classList.contains("active")?p():W()});document.querySelectorAll(".main-categories a");let k=document.getElementById("main-menu-container"),I=document.querySelectorAll(".main-categories > a");function O(){k.style.right="-350px"}for(let e=0;e<I.length;e++)I[e].addEventListener("click",function(s){s.preventDefault(),s.stopPropagation();let t=s.target.getAttribute("data-target");document.querySelectorAll(".submenu").forEach(function(a){a.classList.remove("m-active")}),document.getElementById("submenu_"+t).classList.add("m-active"),O()});u("#back-to-main-menu",function(){_()});const _=()=>{k.style.right="0"};u(".dialog-button",function(e){if(e.target.classList.contains("dialog-button")){let s=e.target.getAttribute("data-target"),t=document.getElementById(s);if(!t)return;let a=parseInt(e.target.getAttribute("data-width")??800),i=parseInt(e.target.getAttribute("data-height")??600);H(s,a,i),setTimeout(function(){t.querySelector(".dialog-body").classList.add("active")},20),t.classList.add("show"),setTimeout(function(){t.classList.add("active"),t.style.width=a+"px",t.style.height=i+"px"},130)}});function A(){let e=document.getElementById("x-backdrop"),s=e.getAttribute("data-id");e.classList.remove("active"),setTimeout(function(){e.classList.remove("show")},3e3),parseInt(e.getAttribute("data-width")??800),parseInt(e.getAttribute("data-height")??600);let t=document.getElementById(s);t.classList.remove("active"),setTimeout(function(){t.classList.remove("show")},300)}u(".x-backdrop",A);let H=(e,s,t)=>{let a=document.getElementById("x-backdrop");a.setAttribute("data-id",e),a.setAttribute("data-width",s),a.setAttribute("data-height",t),a.classList.add("show"),setTimeout(function(){a.classList.add("active")},20)};const R=new MutationObserver(e=>{for(let s of e)s.type==="attributes"&&s.attributeName==="class"&&(S.classList.contains("active")?document.body.style.overflowY="hidden":document.body.removeAttribute("style"))}),S=document.querySelector(".x-backdrop");R.observe(S,{attributes:!0});document.addEventListener("DOMContentLoaded",()=>{window.Livewire.on("dismiss-comment",()=>{A()})});try{let e=!1,s=document.getElementById("caret-cart"),t=document.getElementById("header-cart-icon");t.onmouseover=()=>{let i=document.getElementById("header-cart-items");e=!0,i.classList.add("active"),s.classList.add("active")},t.onmouseleave=()=>{let i=document.getElementById("header-cart-items");setTimeout(function(){e||(i.classList.remove("active"),s.classList.remove("active"))},300),e=!1};let a=document.getElementById("header-cart-items");a.onmouseover=()=>{e=!0,a.classList.add("active"),s.classList.add("active")},a.onmouseleave=()=>{setTimeout(function(){e||(a.classList.remove("active"),s.classList.remove("active"))},300),e=!1}}catch{}let B=document.getElementById("theme-light"),x=document.getElementById("theme-dark");document.getElementById("theme-switch");function Y(){document.body.classList.contains("dark")?(document.body.classList.remove("dark"),x.classList.remove("hidden"),B.classList.add("hidden"),T("theme","light",365)):(x.classList.add("hidden"),B.classList.remove("hidden"),document.body.classList.add("dark"),T("theme","dark",365))}function T(e,s,t){let a="";{const i=new Date;i.setTime(i.getTime()+t*24*60*60*1e3),a="; expires="+i.toUTCString()}document.cookie=e+"="+(s||"")+a+"; path=/"}u(".theme-t",function(e){Y()});document.addEventListener("DOMContentLoaded",()=>{});u(".head_li",function(e){try{let s=e.target.getAttribute("id"),t=document.getElementsByClassName("header");document.querySelectorAll(".header").forEach(D=>{D.classList.remove("active")});let a=window.innerWidth>1024,i;a?i=window.scrollY-128:i=window.scrollY-64;let n=t[parseInt(s.replace("header_",""))];const o=n.getBoundingClientRect().top+i;n.classList.add("active");let r=setInterval(function(){n.classList.contains("active")?n.classList.contains("color1")?(n.classList.remove("color1"),n.classList.add("color2")):(n.classList.remove("color2"),n.classList.add("color1")):(clearInterval(r),n.classList.remove("color2"),n.classList.remove("color1"))},300);setTimeout(function(){n.classList.remove("active"),n.classList.remove("color2"),n.classList.remove("color1")},2400),window.scrollTo({top:o,behavior:"smooth"})}catch{}});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".suggest").forEach(e=>{e.getElementsByTagName("a")[0].classList.add("show-in-iframe");let s=document.createElement("span");s.innerText="مقاله پیشنهادی",s.style.color="#ff6600",s.style.fontWeight="bold",e.prepend(s)})});let c=null,d=null;document.addEventListener("mouseout",e=>{e.target.classList.contains("show-in-iframe")&&(c=!1,setTimeout(function(){if(!c){let s=e.target.getElementsByClassName("popup-iframe");if(s.length>0)for(let t=0;t<s.length;t++)s[t].remove()}},500)),e.target.classList.contains("x-hint")&&(d=!1,setTimeout(function(){if(!d){let s=document.getElementsByClassName("popup-x-hint");if(s.length>0)for(let t=0;t<s.length;t++)s[t].remove()}},500)),e.target.classList.contains("popup-iframe")&&(c=!1,setTimeout(function(){if(!c){let s=document.getElementsByClassName("popup-iframe");if(s.length>0)for(let t=0;t<s.length;t++)s[t].remove()}},500)),e.target.classList.contains("popup-x-hint")&&(d=!1,setTimeout(function(){if(!d){let s=document.getElementsByClassName("popup-x-hint");if(s.length>0)for(let t=0;t<s.length;t++)s[t].remove()}},500))});document.addEventListener("mouseover",e=>{if(e.target.classList.contains("show-in-iframe")){c=!0;let s=e.target.getAttribute("href");e.target.style.position="relative";let t=document.createElement("iframe");t.src=s,t.style.position="absolute",t.style.width="500px",t.style.borderRadius="12px",t.style.overflow="hidden",t.style.height="400px",t.style.maxWidth="80vw",t.style.border="0",t.classList.add("popup-iframe"),t.addEventListener("mouseover",function(){c=!0}),t.onload=function(){const i=(t.contentDocument||t.contentWindow.document).body;i.style.zoom="10%"},t.style.left="0",t.style.right="0",t.style.margin="auto",t.style.top="-400px",e.target.appendChild(t)}if(e.target.classList.contains("x-hint")){d=!0;let s=e.target.getAttribute("data-description");e.target.style.position="relative";let t=document.createElement("div");t.innerText=s,t.style.position="absolute",t.style.width="300px",t.style.overflowY="auto",t.style.borderRadius="12px",t.style.overflow="hidden",t.style.height="200px",t.style.maxWidth="80vw",t.style.border="0",t.classList.add("popup-x-hint"),t.addEventListener("mouseover",function(){d=!0}),t.onload=function(){const i=(t.contentDocument||t.contentWindow.document).body;i.style.zoom="10%"},t.style.left="0",t.style.right="0",t.style.margin="auto",t.style.top="-200px",e.target.appendChild(t)}});let l=null;document.addEventListener("DOMContentLoaded",function(){window.Livewire.on("refresh-timing",function(e){let s=e[0].time;l&&(clearInterval(l),l=null),C(s),l=setInterval(function(){if(s<=1){window.Livewire.dispatch("timedout"),clearInterval(l),l=null;return}s--,C(s)},1e3)})});function C(e){let s=Math.floor(e/60).toString().padStart(2,"0"),t=(e%60).toString().padStart(2,"0"),a=`${s}:${t}`,i=document.getElementById("login-timing");if(!i){clearInterval(l),l=null;return}i.innerHTML=a}window.addEventListener("DOMContentLoaded",()=>{});document.addEventListener("keyup",e=>{if(e.target.classList.contains("number-format")){let s=e.target.value;if(s=s.replace(/[^0-9]/g,""),s){let a=parseInt(s).toLocaleString("en-US");e.target.value=a}else e.target.value=""}});u(".vmpi",e=>{document.querySelectorAll(".vmpi").forEach(t=>{t.remove()}),document.getElementById("tab-description").classList.add("show")});let z=()=>{let e=document.querySelectorAll(".toast-container"),s=document.getElementsByClassName("toast-container").length;for(let t=0;t<s;t++)e[t].style.top=12+t*70+"px"},P=(e,s)=>{setTimeout(function(){N(e)},s)},N=e=>{try{e.style.top="-100px",setTimeout(()=>{e.remove(),z()},200)}catch{}};document.addEventListener("DOMContentLoaded",()=>{window.Livewire.on("toast",e=>{e=e[0];let s=e.message,t=e.type,a=parseInt(e.time)*1e3,i=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div");o.innerHTML="X",i.style.height="60px",i.style.alignItems="center";let r=document.getElementsByClassName("toast-container").length;setTimeout(function(){i.style.top=12+r*70+"px"},20),i.classList.add("toast-container"),i.classList.add(t),n.classList.add("message"),o.classList.add("close"),n.innerHTML=s,i.appendChild(n),i.appendChild(o),o.addEventListener("click",()=>N(i)),P(i,a),document.body.appendChild(i)})});
