(()=>{let i=document.getElementsByClassName("menu-1"),a=document.getElementById("menu-cover"),n=!0,t=1200,e=()=>{let l=(window.innerWidth-t)/2-0;return l<0&&(l=0),l};for(let s=0;s<i.length;s++){let l=i[s];l.addEventListener("mouseover",d=>{let o=d.target.getAttribute("data-target");if(!o||!document.getElementById("submenu_"+o))return;let f=e();const m=l.getBoundingClientRect();let v=parseInt(Math.abs(m.right-m.left)+"");n&&(a.style.width="0px"),n=!1,setTimeout(function(){n||(a.style.width=v+"px",a.style.left=parseInt(m.left-f+"")+"px")},100)}),l.addEventListener("mouseleave",d=>{n=!0,setTimeout(function(){if(!n)return;let o=d.target.getAttribute("data-target");if(!o||!document.getElementById("submenu_"+o))return;let f=e();const m=l.getBoundingClientRect();let v=parseInt(Math.abs(m.right-m.left)+16+"");a.style.left=parseInt(m.left-f+v/2-22+"")+"px",a.style.width="0"},120)})}document.querySelector(".search-backdrop").addEventListener("click",()=>{let s=document.getElementById("search-popup");s&&(s.classList.remove("active"),document.querySelector(".search-backdrop").classList.remove("active"))}),document.querySelector("#temp-search").addEventListener("click",()=>{let s=document.getElementById("search-popup");s&&(s.classList.add("active"),document.querySelector(".search-backdrop").classList.add("active"),document.getElementById("main-search-keyword").focus())});let r=document.getElementById("main-search-keyword");r&&r.addEventListener("keyup",s=>{s.key==="Enter"&&(window.location.href="/search?q="+r.value)});let c=document.getElementsByClassName("main-categories");for(let s=0;s<c.length;s++)c[s].addEventListener("mouseenter",l=>{let d="submenu_"+l.target.getAttribute("data-target"),o=document.getElementById(d);o.classList.add("show"),setTimeout(function(){o.classList.add("active")},20)}),c[s].addEventListener("mouseleave",l=>{let d="submenu_"+l.target.getAttribute("data-target"),o=document.getElementById(d);o.classList.remove("active"),setTimeout(function(){o.classList.remove("show")},300)})})();window.targets||(window.targets={});window.addClickHandler||(window.addClickHandler=(i,a)=>{window.targets[i]||(window.targets[i]=a)});window._clickHandlerInitialized||(document.addEventListener("click",i=>{for(let a in window.targets){let n=a.replace(".",""),t=a.replace("#","");if(i.target.classList.contains(n)||i.target.getAttribute("id")===t){let e=window.targets[a];e(i)}}}),window._clickHandlerInitialized=!0);var u=window.addClickHandler;(function(){let i=document.getElementsByClassName("main-navigation")[0],a=document.getElementsByClassName("nav-toggle")[0],n=document.getElementsByClassName("close-nav")[0],t=document.getElementById("x-backdrop");n.addEventListener("click",()=>{e()}),t&&t.addEventListener("click",()=>{e()}),window.addEventListener("resize",()=>{window.innerWidth>1024&&e()});function e(){a.classList.remove("active"),t.classList.remove("active"),i.classList.remove("active"),setTimeout(function(){i.classList.remove("show"),t.classList.remove("show")},300)}function r(){a.classList.add("active"),i.classList.add("show"),t.classList.add("show"),setTimeout(function(){i.classList.add("active"),t.classList.add("active")},50)}document.querySelector(".nav-toggle").addEventListener("click",()=>{a.classList.contains("active")?e():r()}),document.querySelectorAll(".main-categories a");let c=document.getElementById("main-menu-container"),s=document.querySelectorAll(".main-categories > a");function l(){c.style.right="-350px"}for(let o=0;o<s.length;o++)s[o].addEventListener("click",function(g){if(window.innerWidth>768)return;g.preventDefault(),g.stopPropagation();let f=g.target.getAttribute("data-target");document.querySelectorAll(".submenu").forEach(function(m){m.classList.remove("m-active")}),document.getElementById("submenu_"+f).classList.add("m-active"),l()});u("#back-to-main-menu",function(){d()});const d=()=>{let o=document.getElementById("main-menu-container");o.style.right="0"}})();u(".dialog-button",function(i){if(i.target.classList.contains("dialog-button")){let a=i.target.getAttribute("data-target"),n=document.getElementById(a);if(!n)return;let t=parseInt(i.target.getAttribute("data-width")??800),e=parseInt(i.target.getAttribute("data-height")??600);w(a,t,e),setTimeout(function(){n.querySelector(".dialog-body").classList.add("active")},20),n.classList.add("show"),setTimeout(function(){n.classList.add("active"),n.style.width=t+"px",n.style.height=e+"px"},130)}});function y(){let i=document.getElementById("x-backdrop"),a=i.getAttribute("data-id");i.classList.remove("active"),setTimeout(function(){i.classList.remove("show")},3e3),parseInt(i.getAttribute("data-width")??800),parseInt(i.getAttribute("data-height")??600);let n=document.getElementById(a);n&&(n.classList.remove("active"),setTimeout(function(){n.classList.remove("show")},300))}u(".x-backdrop",y);function w(i,a,n){let t=document.getElementById("x-backdrop");t.setAttribute("data-id",i),t.setAttribute("data-width",a),t.setAttribute("data-height",n),t.classList.add("show"),setTimeout(function(){t.classList.add("active")},20)}(()=>{const i=new MutationObserver(n=>{for(let t of n)t.type==="attributes"&&t.attributeName==="class"&&(a.classList.contains("active")?document.body.style.overflowY="hidden":document.body.removeAttribute("style"))}),a=document.querySelector(".x-backdrop");i.observe(a,{attributes:!0}),document.addEventListener("DOMContentLoaded",()=>{window.Livewire.on("dismiss-comment",()=>{y()})})})();try{let i=!1,a=document.getElementById("caret-cart"),n=document.getElementById("header-cart-icon");n.onmouseover=()=>{let e=document.getElementById("header-cart-items");i=!0,e.classList.add("active"),a.classList.add("active")},n.onmouseleave=()=>{let e=document.getElementById("header-cart-items");setTimeout(function(){i||(e.classList.remove("active"),a.classList.remove("active"))},300),i=!1};let t=document.getElementById("header-cart-items");t.onmouseover=()=>{i=!0,t.classList.add("active"),a.classList.add("active")},t.onmouseleave=()=>{setTimeout(function(){i||(t.classList.remove("active"),a.classList.remove("active"))},300),i=!1}}catch{}function L(){let i=document.getElementById("theme-light"),a=document.getElementById("theme-dark");document.body.classList.contains("dark")?(document.body.classList.remove("dark"),a.classList.remove("hidden"),i.classList.add("hidden"),h("theme","light",365)):(a.classList.add("hidden"),i.classList.remove("hidden"),document.body.classList.add("dark"),h("theme","dark",365))}function h(i,a,n){let t="";{const e=new Date;e.setTime(e.getTime()+n*24*60*60*1e3),t="; expires="+e.toUTCString()}document.cookie=i+"="+(a||"")+t+"; path=/"}u(".theme-t",function(i){L()});document.addEventListener("DOMContentLoaded",()=>{});(function(){let i=null,a=null;u(".head_li",function(n){try{let t=n.target.getAttribute("id"),e=document.getElementsByClassName("header");document.querySelectorAll(".header").forEach(o=>{o.classList.remove("active")});let r=window.innerWidth>1024,c;r?c=window.scrollY-128:c=window.scrollY-64;let s=e[parseInt(t.replace("header_",""))];const l=s.getBoundingClientRect().top+c;s.classList.add("active");let d=setInterval(function(){s.classList.contains("active")?s.classList.contains("color1")?(s.classList.remove("color1"),s.classList.add("color2")):(s.classList.remove("color2"),s.classList.add("color1")):(clearInterval(d),s.classList.remove("color2"),s.classList.remove("color1"))},300);setTimeout(function(){s.classList.remove("active"),s.classList.remove("color2"),s.classList.remove("color1")},2400),window.scrollTo({top:l,behavior:"smooth"})}catch{}}),document.querySelectorAll(".suggest").forEach(n=>{n.getElementsByTagName("a").length>0&&n.getElementsByTagName("a")[0].classList.add("show-in-iframe");let e=document.createElement("span");e.innerText="مقاله پیشنهادی",e.style.color="#ff6600",e.style.fontWeight="bold",n.prepend(e)}),document.addEventListener("mouseout",n=>{n.target.classList.contains("show-in-iframe")&&(i=!1,setTimeout(function(){if(!i){let t=n.target.getElementsByClassName("popup-iframe");if(t.length>0)for(let e=0;e<t.length;e++)t[e].remove()}},500)),n.target.classList.contains("x-hint")&&(a=!1,setTimeout(function(){if(!a){let t=document.getElementsByClassName("popup-x-hint");if(t.length>0)for(let e=0;e<t.length;e++)t[e].remove()}},500)),n.target.classList.contains("popup-iframe")&&(i=!1,setTimeout(function(){if(!i){let t=document.getElementsByClassName("popup-iframe");if(t.length>0)for(let e=0;e<t.length;e++)t[e].remove()}},500)),n.target.classList.contains("popup-x-hint")&&(a=!1,setTimeout(function(){if(!a){let t=document.getElementsByClassName("popup-x-hint");if(t.length>0)for(let e=0;e<t.length;e++)t[e].remove()}},500))}),document.addEventListener("mouseover",n=>{if(n.target.classList.contains("show-in-iframe")){i=!0;let t=n.target.getAttribute("href");n.target.style.position="relative";let e=document.createElement("iframe");e.src=t,e.style.position="absolute",e.style.width="500px",e.style.borderRadius="12px",e.style.overflow="hidden",e.style.height="400px",e.style.maxWidth="80vw",e.style.border="0",e.classList.add("popup-iframe"),e.addEventListener("mouseover",function(){i=!0}),e.onload=function(){const c=(e.contentDocument||e.contentWindow.document).body;c.style.zoom="10%"},e.style.left="0",e.style.right="0",e.style.margin="auto",e.style.top="-400px",n.target.appendChild(e)}if(n.target.classList.contains("x-hint")){a=!0;let t=n.target.getAttribute("data-description");n.target.style.position="relative";let e=document.createElement("div");e.innerText=t,e.style.position="absolute",e.style.width="300px",e.style.overflowY="auto",e.style.borderRadius="12px",e.style.overflow="hidden",e.style.height="200px",e.style.maxWidth="80vw",e.style.border="0",e.classList.add("popup-x-hint"),e.addEventListener("mouseover",function(){a=!0}),e.onload=function(){const c=(e.contentDocument||e.contentWindow.document).body;c.style.zoom="10%"},e.style.left="0",e.style.right="0",e.style.margin="auto",e.style.top="-200px",n.target.appendChild(e)}})})();typeof window.loginInterval>"u"&&(window.loginInterval=null);document.addEventListener("DOMContentLoaded",function(){window.Livewire.on("refresh-timing",function(i){let a=i[0].time;window.loginInterval&&(clearInterval(window.loginInterval),window.loginInterval=null),p(a),window.loginInterval=setInterval(function(){if(a<=1){window.Livewire.dispatch("timedout"),clearInterval(window.loginInterval),window.loginInterval=null;return}a--,p(a)},1e3)})});function p(i){let a=Math.floor(i/60).toString().padStart(2,"0"),n=(i%60).toString().padStart(2,"0"),t=`${a}:${n}`,e=document.getElementById("login-timing");if(!e){clearInterval(window.loginInterval),window.loginInterval=null;return}e.innerHTML=t}document.addEventListener("keyup",i=>{if(i.target.classList.contains("number-format")){let a=i.target.value;if(a=a.replace(/[^0-9]/g,""),a){let t=parseInt(a).toLocaleString("en-US");i.target.value=t}else i.target.value=""}});u(".vmpi",i=>{document.querySelectorAll(".vmpi").forEach(n=>{n.remove()}),document.getElementById("tab-description").classList.add("show")});(function(){let i=()=>{let t=document.querySelectorAll(".toast-container"),e=document.getElementsByClassName("toast-container").length;for(let r=0;r<e;r++)t[r].style.top=12+r*70+"px"},a=(t,e)=>{setTimeout(function(){n(t)},e)},n=t=>{try{t.style.top="-100px",setTimeout(()=>{t.remove(),i()},200)}catch{}};document.addEventListener("DOMContentLoaded",()=>{window.Livewire.on("toast",t=>{t=t[0];let e=t.message,r=t.type,c=parseInt(t.time)*1e3,s=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div");d.innerHTML="X",s.style.height="60px",s.style.alignItems="center";let o=document.getElementsByClassName("toast-container").length;setTimeout(function(){s.style.top=12+o*70+"px"},20),s.classList.add("toast-container"),s.classList.add(r),l.classList.add("message"),d.classList.add("close"),l.innerHTML=e,s.appendChild(l),s.appendChild(d),d.addEventListener("click",()=>n(s)),a(s,c),document.body.appendChild(s)})})})();
